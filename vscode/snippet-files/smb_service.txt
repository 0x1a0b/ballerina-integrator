Name : SMB_Service
Trigger : service/smb
Imports : wso2/smb

service ${smbServerConnector} on ${smbListener} {
    resource function onFileChange(smb:WatchEvent ${fileEvent}) {

        foreach smb:FileInfo ${addedFile} in ${fileEvent}.addedFiles {
            log:printInfo("Added file path: " + ${addedFile}.path);
        }
        foreach string ${deletedFile} in ${fileEvent}.deletedFiles {
            log:printInfo("Deleted file path: " + ${deletedFile});
        }
    }
}

Name : JMS_Message_Consumer
Trigger : jms/message_consumer
Imports : wso2/jms

jms:Connection ${connection} = check jms:createConnection({
    initialContextFactory: "${org.apache.activemq.jndi.ActiveMQInitialContextFactory}",
    providerUrl: "${tcp://localhost:61616}"
});
jms:Session ${session} = check ${connection}->createSession({acknowledgementMode: "${AUTO_ACKNOWLEDGE}"});
jms:Destination ${topic} = check ${session}->createTopic("${MyTopic}");

listener jms:MessageConsumer ${jmsConsumer} = check ${session}->createConsumer(${topic});

service ${messageListener} on ${jmsConsumer} {

    resource function onMessage(jms:Message message) {

    }
}
